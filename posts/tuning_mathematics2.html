<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>The mathematics of tuning and temperament</title>


	<link rel="stylesheet" href="../katex.css">
	<link rel="stylesheet" href="../basic.css">

	<!-- The loading of KaTeX is deferred to speed up page rendering -->
	<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>

	<!-- To automatically render math in text elements, include the auto-render extension: -->
	<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
	onload="renderMathInElement(document.body);"></script>
</head>
<body>

<div class="normal">
	<h3><a href="../">sintel</a></h3>
</div>

<hr>

<div class="normal">
<h1>The mathematics of tuning and temperament (part 2)</h1>
<p>
	<a href="./tuning_mathematics.html">Previous page</a>
</p>

<h2>Commas</h2>
<p>
	With 5-limit, we have reduced the number of dimensions to 3 so far, coming from infinitely many this is a pretty good result. For most practical purposes this is still too many though. A 3-dimensional keyboard seems hard to play if you can even build one. 
</p>
<p>
	Let's go down once and take a look at the 3-limit (also known as pythagorean tuning), the space generated by \( \left\{ 2,3 \right\} \). Even though the major third (and the minor one) aren't in this space, it turns out we can get arbitrarily close. Going up 4 perfect fifths, and down 2 octaves, we get the pythagorean third: \( 2^{-6} \cdot 3^4 = 81/64 \). Its size is about 407.8¢, which is fairly close to the just major third at 386.3¢. You can find better ones further out, but let's try to work with this one since \( 81/64 \) is a reasonable looking ratio (the next better one is \( 8192/6561\) ).
</p>
<p>
	The difference between the pythagorean third and the just major third is: 
	$$
		\frac{81}{64} \cdot\frac{4}{5} = \frac{81}{80} \simeq 

		\begin{bmatrix}
		-4 \\ 4 \\ -1
		\end{bmatrix}
	$$
	This interval is known as the <b>syntonic comma</b>. Its size is around 21.5¢. A <b>comma</b> is just any small interval, mostly occuring when trying to approximate an interval with other intervals, as we did just now.
</p>
<h2>Temperaments</h2>
<p>
	The syntonic comma is already pretty small, but it would be nice if it vanished completely. If that was true then we could get to the just major third using only 3-limit intervals. Of course this is impossible, but we can try anyway. In doing so, we get what is known as a temperament.
	If the syntonic comma is gone, then so is \( (81/80)^{-1} \), \( (81/80)^{2} \), and all its other powers. This is a subspace of \( \mathrm{J}^{5} \), spanned by the comma. 
</p>
<p>
	We can try to define temperaments as a quotient modules:
	$$
		\mathrm{J}^{p} / \; \text{span}\left\{ c_1 , c_2, \ldots \right\}
	$$
	for some commas \(  c_1 , c_2, \ldots  \in \mathrm{J}^{p} \) as long as the result is another free \(\mathbb{Z}\)-module. (This is not always the case, more on that later.) We say the commas have been "tempered out". For every (linearly independent) comma that is tempered out, the rank of the module decreases with one.
</p>
<p>

	The <b>meantone temperament</b> can then be found by quotienting out the syntonic comma:
	$$
		\mathrm{J}^{5} / \; \text{span}\left\{ \frac{81}{80} \right\}
	$$
	This is a free \(\mathbb{Z}\)-module of rank 2. <br>	
</p>
<h2>Linear maps</h2>
<p>
	The question now is: what exactly does this temperament look like? Going back to the logarithmic space, we can see that tempering out the syntonic comma means finding a linear map \( \mathrm{M} \):
	$$
		\mathrm{M}:\mathrm{J}^{5} \rightarrow   \mathrm{J}^{5} / \; \text{span}\left\{ \frac{81}{80} \right\}
	$$
	Since free \(\mathbb{Z}\)-modules of rank \(n\) are isomorphic to \(\mathbb{Z}^n\), it must also be true that:
	$$
		\mathrm{M}:\mathbb{Z}^{3} \rightarrow \mathbb{Z}^{2}
	$$
	So \( \mathrm{M} \) is an integer matrix: \( \mathrm{M} \in \mathbb{Z}^{2\times3} \). 
	This map takes a 3 dimensional vector to a 2 dimensional one. It must also take the vector corresponding to \( 81/80 \) to the zero vector:

	$$
		\mathrm{M} 
		\begin{bmatrix}
		-4 \\ 4 \\ -1
		\end{bmatrix}
		=
		\mathbf{0}
	$$
	In other words: \( \text{span}\left\{ 81/80 \right\} \) is the kernel of \( \mathrm{M} \).
</p>
<p>
	So the previous definition of temperaments didn't actually work. A <b>temperament</b> can be defined as a linear map (which is a module homomorphism), taking a \(p\)-limit module  \( \mathrm{J}^{p} \) to a free module of lower rank. The quotient module is only the image of the temperament.
</p>
<p>
	For meantone, a solution can be found, which defines the temperament completely:
	$$
		\mathrm{M}  =
		\begin{bmatrix}
		1 & 0 & -4 \\
		0 & 1 & 4
		\end{bmatrix}
	$$
	It's easy to check that \( \begin{bmatrix}
-4& 4 & -1
\end{bmatrix}^{\mathsf T} \) is in the kernel of this matrix.
</p>
<!-- TODO: add https://en.wikipedia.org/wiki/Isomorphism_theorems -->
</div>
</body>
</html>